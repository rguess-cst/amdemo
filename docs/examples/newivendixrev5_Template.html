<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>iVendix - Aston Martin Prototype</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="../assets/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>
    <link href="../assets/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">

	<link href="../assets/css/tablesorter.css" rel="stylesheet">
  </head>

<!--- script includes are at bottom --->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/js/jquery.js"></script>
    <script src="../assets/js/bootstrap-transition.js"></script>
    <script src="../assets/js/bootstrap-alert.js"></script>
    <script src="../assets/js/bootstrap-modal.js"></script>
    <script src="../assets/js/bootstrap-dropdown.js"></script>
    <script src="../assets/js/bootstrap-scrollspy.js"></script>
    <script src="../assets/js/bootstrap-tab.js"></script>
    <script src="../assets/js/bootstrap-tooltip.js"></script>
    <script src="../assets/js/bootstrap-popover.js"></script>
    <script src="../assets/js/bootstrap-button.js"></script>
    <script src="../assets/js/bootstrap-collapse.js"></script>
    <script src="../assets/js/bootstrap-carousel.js"></script>
    <script src="../assets/js/bootstrap-typeahead.js"></script>
	<script src="../../js/jquery-ui-1.8.13.custom.min.js"></script>
	<link href="../../jquery_ui_themes.1.8.13/ui-lightness/jquery-ui-1.8.13.custom.css">
	<script src="../assets/js/jquery.tablesorter.min-2.03.js"></script>
	<script src="../../js/divController.js"></script>


  <script language="javascript">
  	var divC=new $.divController();
	
	$(document).ready(function()
	{
		$("#orderreview").draggable();
		$("#orderimage1").draggable();
		$("#orderimage2").draggable();
	}
	);

function showorderreview()
{
	$("#orderreview").toggle();
}

function runningtotaldetails(ww)
{
	$("#detailtotals").toggle();
	$("#simpletotals").toggle();	
}

function showsummary()
{
	$("#runningtotal").toggle().draggable();
}
  
function showlegend()
{
	$("#invlegend").toggle().draggable();
}

function xfertorep()
{
  hideallthings();
  $("#shipmentwindow").hide();
	$("#xFerToRep").show();
}

function SetBtnPrim()
{
  $("#xtrSub").removeClass('disabled');
  $("#xtrSub").removeAttr("disabled");
  $("#xtrSub").addClass('btn btn-primary');
}

function xfrSubClick()
{
  $("#xtrCan").removeClass('btn');
  $("#xtrCan").addClass('disabled');
  $("#xtrCan").attr('disabled', 'disabled');
  $("#xtrSub").removeClass('btn btn-primary');
  $("#xtrSub").addClass('btn btn-info');
  $("#xtrSub").html('Transferring to Rep');
  var t=setTimeout("xfrComplete()",3000);
}

function xfrComplete()
{
  $("#xtrSub").removeClass('btn btn-info');
  $("#xtrSub").addClass('btn btn-success');
  $("#xtrSub").html('Transfer Complete');
  $("#xtrSub").attr('disabled', 'disabled');
  $("#xferdivctrl").hide();
  $("#xtrSub").hide();
  $("#xtrCan").hide();
  $("#xfrDone").show();
}

 function hideallthings()
{
	$("#browse").hide();
	$("#catalogimage").hide();
	$("#directions").hide();
	$("#firstshipment").hide();
	//$("#imagebasedsearching").hide();
	divC.storeAndDetach("imagebasedsearching");
	divC.storeAndDetach("lineitementry");
	//$("#lineitementry").hide();
	//$("#multipleshipments").hide();
	divC.storeAndDetach("multipleshipments");
	divC.storeAndDetach("ordergridonly");
	//$("#ordergridonly").hide();
	$("#simple").hide();
	$("#worksheetvalues").hide();	
	$("#singleproductselect").hide();
	$("#step4").hide();
	$("#workbookview").hide();
	$("#colorlookordered").hide();
	$("#colorlooksearch").hide();
	$("#xFerToRep").hide();
	$("#templateInfo").hide();
	$("#uploadSSOFDIV").hide();
	$("#orderFromTemplate").hide();
	$('.alert').hide();
} 
  
function showorderme()
{
	$("#orderme").show();
}
 function multiship()
{
	hideallthings();
	$("#orderedtab").show();
	$("#tabship1").hide();
	$("#tabship2").hide();
	buttonmoves(3);
	divC.attach("multipleshipments","multipleshipmentswrapper");	
	$("#multipleshipments").show();	
	showPS();
}

var orderType = '';
 function firemeup (newOrderType)
{
	orderType = newOrderType;
	
	hideallthings();
	$("#start").show();
	$("#directions").show();
	
	if(orderType == 'Order') {
		$("#templateInfo").hide();
		$("#btnGroupPriceSchedule").hide();
		$("#btnGroupPriceSchedule2").hide();
		$("#menuTransferToRep").show();
		$("#menuTransferToRep2").show();
		$("#btnContinue").show();
		$("#btnContinue2").show();
		showPS('USD');
	} else if(orderType == 'Template') {
		$("#templateInfo").show();
		$("#btnGroupPriceSchedule").show();
		$("#btnGroupPriceSchedule2").show();
		$("#menuTransferToRep").hide();
		$("#menuTransferToRep2").hide();
		$("#btnContinue").hide();
		$("#btnContinue2").hide();
	}
}

// Begin Support for SSOF Upload Functionality

$(document).ready(function() {
	$("#validationResultsTable").tablesorter({
		headers: {
			1:  { sorter: false },
			4:  { sorter: false }  
		},
		textExtraction: 'complex' 
	});
	$("#validationResultsTable").bind("sortStart", function() {
		// show or hide item subtotals depending on whether we're sorting by Item Number or not
		if($(this).data("sortCol") == "Item") {
			$(".ValShipSubtotal").show();
		} else {
			$(".ValShipSubtotal").hide();
		}
	});
	$("#validationResultsTable").bind("sortEnd", function() {
		$(this).data("sortCol",""); // clear this value in case we had a special sort
	});
});

function uploadSSOF()
{
	hideallthings();
	$("#start").hide();
	$("#directions").hide();
	$("#shipmentwindow").hide();
	
	$("#orderForm").val("");
	$("#uploadSSOF_TAB1").show();
	$("#uploadSSOF_TAB2").hide();
	$("#uploadSSOFDIV").show();
}

function doUploadSSOF()
{
	$(".alert").hide();
	if(!$("#orderForm").val()) {
		showAlert("#orderFormAlert","Please select an iVendix Order Form to upload.");
	} else if($("#orderForm").val().toLowerCase().indexOf(".xls") != ($("#orderForm").val().length - 4)) {
		showAlert("#orderFormAlert","The order form is not in the correct format. Your order cannot be uploaded.");
	} else {
		$("#uploadSSOF_TAB1").hide();
		$("#uploadSSOF_TAB2").show();
		showValidationSummary();
	}
}

function showValidationSummary()
{
	$("#validationSummary").addClass("active");
	$("#validationSummaryDIV").show();
	$("#validationShipment1").removeClass("active");
	$("#validationShipment1DIV").hide();
	$("#validationShowImages").attr("disabled","disabled");
}

function showValidationShipment1()
{
	$("#validationSummary").removeClass("active");
	$("#validationSummaryDIV").hide();
	$("#validationShipment1").addClass("active");
	$("#validationShipment1DIV").show();
	$("#validationShowImages").removeAttr("disabled");
}

function validationItemSort()
{
	// we need to flag when we're doing an item number sort so we know to show the item subtotals
	$("#validationResultsTable").data('sortCol','Item');
	$("#validationResultsTable").trigger("sorton",[[[0,0]]]);
}

function showAlert(selector,message,classes)
{
	classes = classes ? classes : "alert alert-error";
	var alertHTML = '<div class="' + classes + '">'
		+ '<a class="close" data-dismiss="alert" href="#">&times;</a>'
		+ '<h4>' + message + '</h4>'
		+ '</div>';
	$(selector).html(alertHTML).show();
}

function killAlerts(selector)
{
	$(selector).empty();
}

// Start Support for Order from a Template functionality

$(document).ready(function() {
	$("#templateTable").tablesorter({
		headers: {
			3:  { sorter: false }
		},
		textExtraction: 'complex' 
	});

	$("[name=templateSel]").bind("change",function() {
		$("#templateAlert2").empty();
	});
});

function orderFromTemplate()
{
	hideallthings();
	$("#start").hide();
	$("#directions").hide();
	$("#shipmentwindow").hide();
	
	$("#orderFromTemplate_TAB1").show();
	$("#orderFromTemplate").show();
	showAlert("#templateAlert","<b>Note: </b>Pricing and availability may differ.","alert");
}

function doUseSelectedTemplate()
{
	if($("[name=templateSel]:checked:visible").length == 0) {
		showAlert("#templateAlert2","Please select a template to use.");
	}
}

function doCopyTemplate()
{
	if($("[name=templateSel]:checked:visible").length == 0) {
		showAlert("#templateAlert2","Please select a template to copy.");
	}
}

function doDeleteTemplate()
{
	if($("[name=templateSel]:checked:visible").length == 0) {
		showAlert("#templateAlert2","Please select a template to delete.");
	} else {
		$("[name='templateSel']:checked").closest("tr").detach();
	}
}

function searchtoggle()
{
	$("#searchdiv").toggle();
	$("#directions").hide();
}

function callordersearch()
{
	return;
}

function showorderedpallet()
{
	hideallthings();
	buttonmoves(5);
	$("#orderedtab").addClass('active');
	$("#searchresultstab").removeClass('active');
	$("#orderedtab").show();
	$("#tabship1").hide();
	$("#tabship2").hide();
	$("#colorlooksearch").hide();
	$("#colorlookordered").show();
}

 function colorlooktog()
{
	hideallthings();
	buttonmoves(5);
	$("#orderedtab").show();
	$("#tabship1").hide();
	$("#tabship2").hide();
	$("#colorlooksearch").show();
}

function colorpicadd(daObj)
{
	$(daObj).toggleClass('btn-success');
}

function showorderopt(switchme)
{
	hideallthings();
	if (switchme==1)
	{
		buttonmoves(2);
		$("#orderedtab").show();
		$("#tabship1").hide();
		$("#tabship2").hide();
		divC.attach("lineitementry","lineitementrywrapper");
		$("#lineitementry").show();	
		$("#searchresultstab").removeClass('active');
		$("#tabship1").removeClass('active');
		$("#orderedtab").addClass('active');
		showPS();
	}
	if (switchme==2)
	{
		$("#shipmentwindow").show();
		$("#orderedtab").hide();
		$("#tabship1").show();
		$("#tabship2").show();
		divC.attach("imagebasedsearching","imagebasedsearchingwrapper");
		$("#imagebasedsearching").show();
		buttonmoves(1);
		$("#searchresultstab").addClass('active');
		$("#tabship1").removeClass('active');
		$("#orderedtab").removeClass('active');
		showPS();
	}
	if (switchme==7) //workbook view
	{
		$("#orderedtab").show();
		$("#tabship1").hide();
		$("#tabship2").hide();
		$("#workbookview").show();			
		$("#searchresultstab").removeClass('active');
		$("#tabship1").removeClass('active');
		$("#orderedtab").addClass('active');
		buttonmoves(4);
		showPS();
	}

return;
}

function switchme4()
	{
		$("#singleproductselect").show();
	}

function switchme8()
{
	$("#removeorderbutton").show();
	$("#enterquantitiesbutton").show();
}

	
function switchme6()
{
	hideordergrid();
	$("#orderedcount").show();
	$("#removeorderbutton").show();
	$("#enterquantitiesbutton").show();
}

function switchme5()
{
	divC.attach("ordergridonly","ordergridonlywrapper");
	$("#ordergridonly").show();
}

function closeblowout() 
	{
		$("#singleproductselect").hide();
	}

function showshipment1()
	{
		buttonmoves(1);
		hideallthings();
		$("#shipmentwindow").show();
		$("#firstshipment").show();
		$("#worksheetvalues").show();	
		$("#searchresultstab").removeClass('active');
		$("#orderedtab").removeClass('active');
		$("#tabship1").addClass('active');
	}
	
function flipshipments()
	{
		$("#shipmentwindowstart").toggle();
		$("#mainsearchbutton").addClass('btn-primary');
		$("#browse").toggle().draggable();
		$("#directions").hide();
		$("#shipmentwindow").toggle();	
	}
	
function navigationcheck()
	{
		$("#browse").toggle();
		$("#directions").hide();
	}

function runme(switchme)
	{
		$("#catalogName").html("Fall 2012");
		$("#btnCatalog").removeClass("btn-primary");
		$("#btnCatalogSelect").removeClass("btn-primary");
		$("#catalogimage").toggle();
		$("#directions").hide();
		$("#shipmentwindowstart").toggle();
		return;
	}

var savedPS = 'NONE';
function showPS(ps)
	{
		ps = ps ? ps : savedPS;
		
		if(ps == 'NONE') {
			$(".ps_NONE").show();
			$(".ps_EUR").hide();
			$(".ps_USD").hide();
			$("#psName").html("Price Schedule");
			$("[placeholder='\u20AC200.00']").attr("placeholder", "N/A");
			$("[placeholder='$250.00']").attr("placeholder", "Price");
		} else if(ps == 'USD') {
			$(".ps_NONE").hide();
			$(".ps_EUR").hide();
			$(".ps_USD").show();
			$("#psName").html("01 [USD]");
			$("[placeholder='\u20AC200.00']").attr("placeholder", "$250.00");
			$("[placeholder='Price']").attr("placeholder", "$250.00");
		} else if(ps == 'EUR') {
			$(".ps_NONE").hide();
			$(".ps_EUR").show();
			$(".ps_USD").hide();
			$("#psName").html("02 [EUR]");
			$("[placeholder='$250.00']").attr("placeholder", "\u20AC200.00");
			$("[placeholder='Price']").attr("placeholder", "\u20AC200.00");
		}
		
		savedPS = ps;
	}
	
function removeorder()
{	
	addswitches();
}

function addswitches()
{
	$("#addtoorderbutton").toggle();
	$("#removeorderbutton").toggle();
}

function hideordergrid()
{
	$("#ordergridonly").hide();
}

function showadvancedsearch()
{
	$("#simplesearch").toggle();
	$("#moresearch").toggle();
	$("#lesssearch").toggle();
	$("#advancedsearch").toggle();
}
	
function buttonmoves(da)
{
	$("#imageviewbutton").removeClass('btn-info');
	$("#listviewbutton").removeClass('btn-info');
	$("#multipleviewbutton").removeClass('btn-info');
	$("#classicviewbutton").removeClass('btn-info');
	$("#colorviewbutton").removeClass('btn-info');

	if (da==1)
	{
	$("#imageviewbutton").addClass('btn-info');	
	}
	if (da==2)
	{
	$("#listviewbutton").addClass('btn-info');
	
	}
	if (da==3)
	{
	$("#multipleviewbutton").addClass('btn-info');
	
	}
	if (da==4)
	{
	$("#classicviewbutton").addClass('btn-info');
	
	}
	if (da==5)
	{
	$("#colorviewbutton").addClass('btn-info');
	}
}	

function multipleproductentry()
{
	$("#multipleproduct").toggle();
}

function callordersearch()
{
	$("#productfrompreviouw").toggle();
	$("#ordersearchreturn").hide();
}

function showorderreturn(daobj)
{
	$(daobj).hide();
	$("#ordersearchreturn").toggle();
}
  </script>
  
  <body>
  
  
<div class="span12" id="orderFromTemplate">
	<div class="span12"><h3>iVendix Templates</h3><br /></div>
		<div id="orderFromTemplate_TAB1" class="span12">
			<div class="span12"><input type="button" class="btn" id="btnNewTemplate" value="Create a New Template" onclick="firemeup('Template')"></div>
			<div class="span12"><label class="checkbox"><input type="checkbox" onclick="$('.otherTemplate').toggle()">Show only my templates</label></div>
			<div class="span12" style="margin-top:10px;">
				<table id="templateTable" class="table-condensed table-striped">
					<thead>
						<tr style="background-color:black; color:white;">
							<th>Template Name</th>
							<th>Catalog</th>
							<th>Created By</th>
							<th>Preview</th>
							<th>Ship</th>
							<th>Units</th>
							<th>Order Total</th>
						</tr>
					</thead>
					<tbody>
						<tr class="otherTemplate">
							<td><label class="radio"><input type="radio" name="templateSel">13k non result adult order</label></td>
							<td>Fall 2012</td>
							<td>Ziggy Stardust</td>
							<td style="text-align:center"><i class="icon-zoom-in"></i></td>
							<td>07/06/2012</td>
							<td style="text-align:right">121</td>
							<td style="text-align:right">$13,337.50</td>
						</tr>
						<tr class="otherTemplate">
							<td><label class="radio"><input type="radio" name="templateSel">15k adult resort</label></td>
							<td>Fall 2012</td>
							<td>Ziggy Stardust</td>
							<td style="text-align:center"><i class="icon-zoom-in"></i></td>
							<td>10/01/2012</td>
							<td style="text-align:right">128</td>
							<td style="text-align:right">$15,551.75</td>
						</tr>
						<tr class="otherTemplate">
							<td><label class="radio"><input type="radio" name="templateSel">25k concept shop</label></td>
							<td>Spring 2012</td>
							<td>Ziggy Stardust</td>
							<td style="text-align:center"><i class="icon-zoom-in"></i></td>
							<td>10/01/2012</td>
							<td style="text-align:right">273</td>
							<td style="text-align:right">$25,603.25</td>
						</tr>
						<tr>
							<td><label class="radio"><input type="radio" name="templateSel">Fall Starter</label></td>
							<td>Fall 2012</td>
							<td>David Bowie</td>
							<td style="text-align:center"><i class="icon-zoom-in"></i></td>
							<td>09/01/2012</td>
							<td style="text-align:right">100</td>
							<td style="text-align:right">$9,768.50</td>
						</tr>
						<tr>
							<td><label class="radio"><input type="radio" name="templateSel">Spring Starter</label></td>
							<td>Spring 2012</td>
							<td>David Bowie</td>
							<td style="text-align:center"><i class="icon-zoom-in"></i></td>
							<td>06/01/2012</td>
							<td style="text-align:right">100</td>
							<td style="text-align:right">$11,768.50</td>
						</tr>
						<tr>
							<td><label class="radio"><input type="radio" name="templateSel">Fall Buy</label></td>
							<td>Fall 2012</td>
							<td>Major Tom</td>
							<td style="text-align:center"><i class="icon-zoom-in"></i></td>
							<td>09/01/2012</td>
							<td style="text-align:right">50</td>
							<td style="text-align:right">$4,322.25</td>
						</tr>
						<tr>
							<td><label class="radio">Fall Buy</label></td>
							<td>Fall 2012</td>
							<td>Major Tom</td>
							<td style="text-align:center"><i class="icon-zoom-in"></i></td>
							<td>10/01/2012</td>
							<td style="text-align:right">50</td>
							<td style="text-align:right">$4,322.25</td>
						</tr>
						<tr>
							<td><label class="radio"><input type="radio" name="templateSel">Fall Essentials</label></td>
							<td>Fall 2012</td>
							<td>David Bowie</td>
							<td style="text-align:center"><i class="icon-zoom-in"></i></td>
							<td>09/01/2012</td>
							<td style="text-align:right">25</td>
							<td style="text-align:right">$2,550.00</td>
						</tr>
						<tr>
							<td><label class="radio"><input type="radio" name="templateSel">Fall Sample</label></td>
							<td>Fall 2012</td>
							<td>David Bowie</td>
							<td style="text-align:center"><i class="icon-zoom-in"></i></td>
							<td>09/01/2012</td>
							<td style="text-align:right">10</td>
							<td style="text-align:right">$782.75</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="span12" style="margin-top:10px;"><label class="checkbox"><input type="checkbox">Include quantities from template</label></div>
			<div class="span6" id="templateAlert"></div>
			<div class="span6" id="templateAlert2"></div>
			<div class="span12" style="margin-top:10px;">
				<input type="button" class="btn btn-primary" id="btnUseSelectedTemplate" value="Create Order" onclick="doUseSelectedTemplate()">
				<input type="button" class="btn" id="btnCopyTemplate" value="Copy Template" onclick="doCopyTemplate()">
				<input type="button" class="btn" id="btnDeleteTemplate" value="Delete Template" onclick="doDeleteTemplate()">
				<input type="button" class="btn" id="btnCancelTemplate" value="Cancel" onclick="hideallthings()">
			</div>
		</div>
	</div>
</div>

</body>
</html>
	